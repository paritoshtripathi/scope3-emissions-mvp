# Retrieval and Search Configuration

hybrid_search:
  nlp:
    model: "en_core_web_sm"
    batch_size: 1000
    max_length: 1000000
  weights:
    vector: 0.6
    semantic: 0.3
    keyword: 0.1
  thresholds:
    similarity: 0.5
    confidence: 0.7
  patterns:
    emission_sources:
      - "emissions from"
      - "generated by"
      - "produced from"
      - "resulting from"
    reduction_strategies:
      - "reduce"
      - "decrease"
      - "minimize"
      - "optimize"
      - "improve"
    metrics:
      - "tCO2e"
      - "kgCO2e"
      - "carbon intensity"
      - "emission factor"

multi_vector:
  indexes:
    document:
      dimension: 768
      type: "IVFFlat"
      nlist: 100
    chunk:
      dimension: 384
      type: "IVFFlat"
      nlist: 50
    semantic:
      dimension: 768
      type: "IVFFlat"
      nlist: 100
  weights:
    document: 0.3
    chunk: 0.5
    semantic: 0.2
  retrieval:
    top_k: 5
    nprobe: 10
    min_score: 0.6

context_augmentation:
  strategies:
    semantic_expansion:
      enabled: true
      weight: 0.4
    cross_reference:
      enabled: true
      weight: 0.3
    temporal_context:
      enabled: true
      weight: 0.1
    scope3_specific:
      enabled: true
      weight: 0.2
  scope3:
    categories:
      - name: "Purchased Goods and Services"
        keywords: ["purchased", "procurement", "supplier", "vendor"]
      - name: "Capital Goods"
        keywords: ["equipment", "machinery", "infrastructure", "capital"]
      - name: "Fuel and Energy"
        keywords: ["fuel", "energy", "electricity", "power"]
      - name: "Transportation"
        keywords: ["transport", "logistics", "shipping", "freight"]
      - name: "Waste"
        keywords: ["waste", "disposal", "recycling", "landfill"]
    metrics:
      - name: "CO2e"
        units: ["tCO2e", "kgCO2e", "gCO2e"]
      - name: "Energy"
        units: ["kWh", "MWh", "GJ"]
      - name: "Distance"
        units: ["km", "miles", "nautical miles"]
    factors:
      - name: "Emission Factors"
        patterns: ["per unit", "per kg", "per ton"]
      - name: "Activity Data"
        patterns: ["quantity", "amount", "volume"]